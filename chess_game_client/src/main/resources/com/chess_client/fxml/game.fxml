<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane
    style="-fx-font-family: 'Segoe UI', Arial, sans-serif; -fx-background-color: linear-gradient(to bottom, #1a1a2e, #16213e);"
    xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1"
    fx:controller="com.chess_client.controllers.GameController">

    <!-- ===================== -->
    <!-- TOP: Äá»I THá»¦ -->
    <!-- ===================== -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="15"
            style="-fx-background-color: #1a1a2e; -fx-padding: 15;">
            <VBox spacing="3" alignment="CENTER_LEFT">
                <Label fx:id="opponentNameLabel"
                    style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;"
                    text="Äá»‘i thá»§" />
                <Label fx:id="opponentPlayerLabel"
                    style="-fx-text-fill: #b0b0b0; -fx-font-size: 12px;" text="QuÃ¢n Äen" />
            </VBox>
            <Region HBox.hgrow="ALWAYS" />
        </HBox>
    </top>

    <!-- ===================== -->
    <!-- CENTER: BÃ€N Cá»œ + SIDEBAR -->
    <!-- ===================== -->
    <center>
        <HBox spacing="0" style="-fx-background-color: #1a1a2e;">
            <!-- BÃ€N Cá»œ BÃŠN TRÃI -->
            <VBox alignment="CENTER" style="-fx-background-color: #1a1a2e; -fx-padding: 20;">
                <StackPane>
                    <GridPane fx:id="chessBoard" hgap="0"
                        style="-fx-border-color: #1a1714; -fx-border-width: 2;                                      -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.5), 10, 0, 0, 5);"
                        vgap="0" />
                </StackPane>
            </VBox>

            <!-- SIDEBAR BÃŠN PHáº¢I -->
            <VBox prefWidth="320" spacing="10"
                style="-fx-background-color: #1a1a2e; -fx-padding: 15;">

                <!-- LÆ¯á»¢T ÄI -->
                <VBox spacing="5"
                    style="-fx-background-color: rgba(255, 255, 255, 0.05); -fx-padding: 12; -fx-background-radius: 5;">
                    <Label fx:id="turnLabel"
                        style="-fx-text-fill: #f0d9b5; -fx-font-size: 16px; -fx-font-weight: bold;"
                        text="LÆ°á»£t Ä‘i: TRáº®NG" />
                </VBox>

                <!-- TRáº NG THÃI -->
                <VBox spacing="5"
                    style="-fx-background-color: rgba(255, 255, 255, 0.05); -fx-padding: 12; -fx-background-radius: 5;">
                    <Label
                        style="-fx-text-fill: #f0d9b5; -fx-font-size: 14px; -fx-font-weight: bold;"
                        text="Tráº¡ng thÃ¡i" />
                    <Label fx:id="statusLabel"
                        style="-fx-text-fill: white; -fx-font-size: 13px; -fx-wrap-text: true;"
                        text="TrÃ² chÆ¡i báº¯t Ä‘áº§u" />
                </VBox>

                <!-- NÆ¯á»šC ÄI CUá»I -->
                <VBox spacing="5"
                    style="-fx-background-color: rgba(255, 255, 255, 0.05); -fx-padding: 12; -fx-background-radius: 5;">
                    <Label
                        style="-fx-text-fill: #f0d9b5; -fx-font-size: 14px; -fx-font-weight: bold;"
                        text="NÆ°á»›c Ä‘i cuá»‘i" />
                    <Label fx:id="lastMoveLabel"
                        style="-fx-text-fill: white; -fx-font-size: 13px; -fx-wrap-text: true;"
                        text="ChÆ°a cÃ³" />
                </VBox>

                <!-- CÃC NÃšT ÄIá»€U KHIá»‚N -->
                <VBox spacing="8">
                    <Button fx:id="drawButton" maxWidth="Infinity"
                        style="-fx-background-color: #4a9eff; -fx-text-fill: white;                                    -fx-font-size: 14px; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;"
                        text="Cáº§u hÃ²a" />
                    <Button fx:id="resignButton" maxWidth="Infinity"
                        style="-fx-background-color: #e74c3c; -fx-text-fill: white;                                    -fx-font-size: 14px; -fx-padding: 10; -fx-background-radius: 5; -fx-cursor: hand;"
                        text="Nháº­n thua" />
                </VBox>

                <!-- CHAT BOX -->
                <VBox spacing="8"
                    style="-fx-background-color: rgba(255, 255, 255, 0.05); -fx-padding: 12; -fx-background-radius: 5;"
                    VBox.vgrow="ALWAYS">
                    <Label
                        style="-fx-text-fill: #f0d9b5; -fx-font-size: 14px; -fx-font-weight: bold;"
                        text="Chat" />

                    <!-- Khu vá»±c hiá»ƒn thá»‹ tin nháº¯n -->
                    <ScrollPane fx:id="chatScrollPane" fitToWidth="true"
                        style="-fx-background: #1a1714; -fx-background-color: #1a1714;                                        -fx-border-color: #0d0c0b; -fx-border-width: 1;"
                        VBox.vgrow="ALWAYS">
                        <VBox fx:id="chatMessagesBox" spacing="5"
                            style="-fx-padding: 8; -fx-background-color: #1a1714;" />
                    </ScrollPane>

                    <!-- Ã” nháº­p tin nháº¯n -->
                    <HBox spacing="5">
                        <Button fx:id="sendFileButton"
                            style="-fx-background-color: #2ecc71; -fx-text-fill: white;                                        -fx-font-size: 12px; -fx-padding: 8 12 8 12;                                        -fx-background-radius: 3; -fx-cursor: hand;"
                            text="ðŸ“Ž" />
                        <TextField fx:id="chatInput" promptText="Nháº­p tin nháº¯n..."
                            style="-fx-background-color: #1a1714; -fx-text-fill: white;                                           -fx-prompt-text-fill: #666; -fx-border-color: #0d0c0b;                                           -fx-border-width: 1; -fx-padding: 8; -fx-background-radius: 3;"
                            HBox.hgrow="ALWAYS" />
                        <Button fx:id="sendMessageButton"
                            style="-fx-background-color: #4a9eff; -fx-text-fill: white;                                        -fx-font-size: 12px; -fx-padding: 8 15 8 15;                                        -fx-background-radius: 3; -fx-cursor: hand;"
                            text="Gá»­i" />
                    </HBox>
                </VBox>
            </VBox>
        </HBox>
    </center>

    <!-- ===================== -->
    <!-- BOTTOM: NGÆ¯á»œI CHÆ I -->
    <!-- ===================== -->
    <bottom>
        <HBox alignment="CENTER_LEFT" spacing="15"
            style="-fx-background-color: #1a1a2e; -fx-padding: 15;">
            <VBox spacing="3" alignment="CENTER_LEFT">
                <Label fx:id="playerNameLabel"
                    style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;"
                    text="Báº¡n" />
                <Label fx:id="playerLabel" style="-fx-text-fill: #b0b0b0; -fx-font-size: 12px;"
                    text="QuÃ¢n Tráº¯ng" />
            </VBox>
            <Region HBox.hgrow="ALWAYS" />
        </HBox>
    </bottom>
</BorderPane>